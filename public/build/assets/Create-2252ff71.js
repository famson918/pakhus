import{l as k,i as W,o as r,b as u,d as e,t as s,h as d,M as ae,u as Y,c as G,j as ne,y as ie,C as ce,r as re,g as F,A as m,B as D,f as de,O as y,F as L,s as U,z as S,e as ue,w as me,D as z,Q as pe,v as fe}from"./app-92ca493c.js";import{d as A,u as he,a as M,r as ve,m as _e}from"./rules-ff33fc86.js";import{_ as E}from"./UploadInput-3fa695e6.js";const be={class:"d-flex align-items-center"},ye={class:"col-sm-10 fileName"},x={__name:"DownloadInput",props:["buttonLabel","file"],setup(p){let g=k(" ");const{buttonLabel:w,file:b}=p;W(()=>{if(b){const f=new URL(b).pathname.split("/"),n=f[f.length-1];g.value=n}});const c=()=>{const h=b,f=h.substring(h.lastIndexOf("/")+1),n=document.createElement("a");n.style.display="none",n.href=h,n.download=f,document.body.appendChild(n),n.click(),document.body.removeChild(n)};return(h,f)=>(r(),u("div",be,[e("label",ye,s(d(g)),1),e("button",{class:"col-sm-2 btn btn-primary",onClick:c,type:"button"},s(p.buttonLabel),1)]))}};function ge(){const p=k({}),g=k({title:"",content:"",category_id:"",thumbnail:""}),w=ae(),b=Y(),c=G(()=>b.state.lang.locale),h=k({}),f=k(!1),n=ne("$swal");return{proposals:p,post:g,getProposals:async()=>{axios.get("/api/proposals").then(v=>{console.log("response",v),b.dispatch("proposal/getProposals",v.data.data)})},getPost:async v=>{axios.get("/api/proposals/"+v).then(i=>{g.value=i.data.data})},storeProposal:async v=>{if(f.value)return;f.value=!0,h.value={};let i=new FormData;for(let _ in v)v.hasOwnProperty(_)&&i.append(_,v[_]);axios.post("/api/proposals",i,{headers:{"content-type":"multipart/form-data"}}).then(_=>{w.push({name:"proposals.index"}),c.value==="en"?n({position:"top-end",icon:"success",title:"Proposal saved successfully",showConfirmButton:!1,timer:1500}):n({position:"top-end",icon:"success",title:"提案已成功保存",showConfirmButton:!1,timer:1500})}).catch(_=>{var P;(P=_.response)!=null&&P.data&&(h.value=_.response.data.errors)}).finally(()=>f.value=!1)},updateProposal:async v=>{f.value||(f.value=!0,h.value={},axios.put("/api/proposals/",v).then(i=>{w.push({name:"proposals.index"}),c.value==="en"?n({position:"top-end",icon:"success",title:"Proposal saved successfully",showConfirmButton:!1,timer:1500}):n({position:"top-end",icon:"success",title:"提案已成功保存",showConfirmButton:!1,timer:1500}),b.dispatch("proposal/edit",!1)}).catch(i=>{var _;(_=i.response)!=null&&_.data&&(h.value=i.response.data.errors)}).finally(()=>f.value=!1))},deletePost:async v=>{let i={};c.value==="en"?(i.title="Are you sure?",i.text="You won't be able to revert this action!",i.confirmButtonText="Yes, delete it!",i.confirmButtonColor="#ef4444",i.timer=2e4,i.timerProgressBar=!0,i.reverseButtons=!0):(i.title="你确定吗？",i.text="您将无法恢复此操作！",i.confirmButtonText="是的，删除它！",i.confirmButtonColor="#ef4444",i.timer=2e4,i.timerProgressBar=!0,i.reverseButtons=!0),n(i).then(_=>{_.isConfirmed&&axios.delete("/api/proposals/"+v).then(P=>{getPosts(),w.push({name:"proposals.index"}),n({icon:"success",title:"Post deleted successfully"})}).catch(P=>{n({icon:"error",title:"Something went wrong"})})})},validationErrors:h,isLoading:f}}const ke={class:"container card p-7"},we={key:0,class:"row justify-content-center"},Pe={class:"col-6 mb-2 text-center"},Ce={class:"fs-1 fw-7"},$e={class:"fs-8 fw-5"},De={key:1},Se={class:"fs-4 fw-7 p-1"},Ne={key:2},Fe={class:"row"},Ve={class:"col-6"},Le={class:"mb-3 row"},Ue={for:"staticEmail",class:"col-sm-4 col-form-label"},Me={class:"col-sm-8"},Be=["placeholder"],Ee={class:"col-6"},xe={class:"mb-3 row"},Ie={for:"staticEmail",class:"col-sm-4 col-form-label"},Qe={class:"col-sm-8"},Te={class:"mb-3 row"},Ke={for:"inputPassword",class:"col-sm-3 col-form-label"},je={class:"col-sm-9"},qe={class:"row"},Oe={class:"col-sm-4"},Re={class:"form-check form-check-custom form-check-solid me-10 p-2"},ze={class:"form-check-label ml-4",for:"productDevelopment"},Ae={class:"col-sm-4"},We={class:"form-check form-check-custom form-check-solid me-10 p-2"},Ye={class:"form-check-label",for:"developmentProgram"},Ge={class:"col-sm-4"},He={class:"form-check form-check-custom form-check-solid me-10 p-2"},Je={class:"form-check-label",for:"productQuotationSurvey"},Xe={class:"row"},Ze={class:"col-sm-4"},et={class:"form-check form-check-custom form-check-solid me-10 p-2"},tt={class:"form-check-label",for:"connectingChineseFactories"},ot={class:"col-sm-4"},st={class:"form-check form-check-custom form-check-solid me-10 p-2"},lt={class:"form-check-label",for:"prototypeProduction"},at={class:"col-sm-4"},nt={class:"form-check form-check-custom form-check-solid me-10 p-2"},it={class:"form-check-label",for:"massProduction"},ct={class:"row"},rt={class:"col-sm-4"},dt={class:"form-check form-check-custom form-check-solid me-10 p-2"},ut={class:"form-check-label",for:"importCustomsClearance"},mt={class:"col-sm-4"},pt={class:"form-check form-check-custom form-check-solid me-10 p-2"},ft={class:"form-check-label",for:"KC_certification"},ht={class:"col-sm-4"},vt={class:"form-check form-check-custom form-check-solid me-10 p-2"},_t={class:"form-check-label",for:"postEventManagement"},bt={class:"mb-3 row"},yt={for:"inputPassword",class:"col-sm-3 col-form-label"},gt={class:"col-sm-9"},kt={class:"text-danger mt-1"},wt={class:"text-danger mt-1"},Pt={class:"mb-3 row"},Ct={for:"inputPassword",class:"col-sm-3 col-form-label"},$t={class:"col-sm-9"},Dt={class:"text-danger mt-1"},St={class:"text-danger mt-1"},Nt={class:"mb-3 row"},Ft={for:"inputPassword",class:"col-sm-3 col-form-label"},Vt={class:"col-sm-9"},Lt={class:"text-danger mt-1"},Ut={class:"text-danger mt-1"},Mt={class:"mb-3 row"},Bt={for:"inputPassword",class:"col-sm-3 col-form-label"},Et={class:"col-sm-9"},xt={class:"text-danger mt-1"},It={class:"text-danger mt-1"},Qt={class:"mb-3 row"},Tt={for:"inputPassword",class:"col-sm-3 col-form-label"},Kt={class:""},jt={class:"col-sm-9"},qt={class:"mb-3 row"},Ot={for:"inputPassword",class:"col-sm-3 col-form-label"},Rt={class:"col-sm-9"},zt={class:"mb-3 row"},At={for:"inputPassword",class:"col-sm-3 col-form-label"},Wt={class:"col-sm-9"},Yt={class:"mb-3 row"},Gt={for:"inputPassword",class:"col-sm-3 col-form-label"},Ht={class:""},Jt={class:"col-sm-9"},Xt={key:0,class:"mb-3 row justify-content-center"},Zt=["disabled"],eo={class:""},to={key:0},oo={key:1},so={key:1,class:"mb-3 row"},lo={class:"row justify-content-end"},ao={class:"col-sm-3"},no={value:"confirmed"},io={value:"notConfirmed"},co={value:"completed"},ro={value:"atWork"},uo={value:"cancel"},mo={class:"col-sm-4"},po={class:"row"},fo=["disabled"],ho={class:""},vo={key:0},_o={key:1},bo={__name:"Create",props:["edit","editableData"],emits:["updateEdit"],setup(p,{emit:g}){A("required",ve),A("min",_e);const w=Y(),{edit:b,editableData:c}=p,h=G(()=>w.state.lang.locale);let f=k(),n=k();const B=()=>{h.value==="en"?b?n.value="Download":n.value="Upload":b?n.value="下载":n.value="文件附件"};B(),ie(h,B),W(()=>{b&&c&&(o.id=c.id,o.productName=c.productName,o.itemName=c.itemName,o.contactInformation=c.contactInformation,o.email=c.email,o.others=c.others,o.developmentProgram=c.developmentProgram===1,o.KC_certification=c.KC_certification===1,o.connectingChineseFactories=c.connectingChineseFactories===1,o.importCustomsClearance=c.importCustomsClearance===1,o.massProduction=c.massProduction===1,o.postEventManagement=c.postEventManagement===1,o.productQuotationSurvey=c.productQuotationSurvey===1,o.prototypeProduction=c.prototypeProduction===1,o.productDevelopment=c.productDevelopment===1,o.applicationDate=c.created_at.split("T")[0],o.status=c.status,f.value=c.id.toString().padStart(8,"0"))});const I={productName:"required",itemName:"required",contactInformation:"required",email:"required"},{validate:Q,errors:N}=he({validationSchema:I}),{value:T}=M("productName",null,{initialValue:""}),{value:v}=M("itemName",null,{initialValue:""}),{value:i}=M("contactInformation",null,{initialValue:""}),{value:_}=M("email",null,{initialValue:""}),{storeProposal:P,updateProposal:H,validationErrors:V,isLoading:C,getProposals:K}=ge(),o=ce({productName:T,itemName:v,contactInformation:i,email:_,productDevelopment:!1,developmentProgram:!1,productQuotationSurvey:!1,connectingChineseFactories:!1,prototypeProduction:!1,massProduction:!1,importCustomsClearance:!1,KC_certification:!1,postEventManagement:!1,status:"notConfirmed"}),$={file1:null,file2:null,file3:null};function J(){Q().then(async t=>{if(t.valid){const a={...o,productManual:$.file1,productDrawings:$.file2,photos:$.file3};b?(H(o),K(),se()):(await P(a),K())}})}const X=t=>{$.file1=t},Z=t=>{$.file2=t},ee=t=>{$.file3=t},te=t=>{o.status=t.target.value},oe=g,se=t=>{oe("updateEdit",t)};return(t,a)=>{var j,q,O,R;const le=re("router-link");return r(),u("div",ke,[p.edit?F("",!0):(r(),u("div",we,[e("div",Pe,[e("p",Ce,s(t.$t("what_is_your_item")),1),e("p",$e,s(t.$t("createText")),1)])])),p.edit?(r(),u("div",De,[e("p",Se,s(t.$t("what_is_your_item")),1)])):F("",!0),p.edit?(r(),u("div",Ne,[e("div",Fe,[e("div",Ve,[e("div",Le,[e("label",Ue,s(t.$t("id")),1),e("div",Me,[e("input",{placeholder:d(f),class:"form-control",type:"text","aria-label":"Disabled input example",disabled:""},null,8,Be)])])]),e("div",Ee,[e("div",xe,[e("label",Ie,s(t.$t("applicationDate")),1),e("div",Qe,[m(e("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>o.applicationDate=l),class:"form-control",type:"text","aria-label":"Disabled input example",disabled:""},null,512),[[D,o.applicationDate]])])])])])])):F("",!0),e("form",{onSubmit:fe(J,["prevent"])},[e("div",Te,[e("label",Ke,[e("span",null,s(t.$t("desiredService")),1),de(s(t.$t("canSelectManyTimes")),1)]),e("div",je,[e("div",qe,[e("div",Oe,[e("div",Re,[m(e("input",{"onUpdate:modelValue":a[1]||(a[1]=l=>o.productDevelopment=l),onChange:a[2]||(a[2]=(...l)=>t.changeProductDevelopment&&t.changeProductDevelopment(...l)),class:"form-check-input",type:"checkbox",value:"",id:"productDevelopment"},null,544),[[y,o.productDevelopment]]),e("label",ze,s(t.$t("productDevelopment")),1)])]),e("div",Ae,[e("div",We,[m(e("input",{"onUpdate:modelValue":a[3]||(a[3]=l=>o.developmentProgram=l),onChange:a[4]||(a[4]=(...l)=>t.changeDevelopmentProgram&&t.changeDevelopmentProgram(...l)),class:"form-check-input",type:"checkbox",value:"",id:"developmentProgram"},null,544),[[y,o.developmentProgram]]),e("label",Ye,s(t.$t("developmentProgram")),1)])]),e("div",Ge,[e("div",He,[m(e("input",{"onUpdate:modelValue":a[5]||(a[5]=l=>o.productQuotationSurvey=l),onChange:a[6]||(a[6]=(...l)=>t.changeProductQuotationSurvey&&t.changeProductQuotationSurvey(...l)),class:"form-check-input",type:"checkbox",value:"",id:"productQuotationSurvey"},null,544),[[y,o.productQuotationSurvey]]),e("label",Je,s(t.$t("productQuotationSurvey")),1)])])]),e("div",Xe,[e("div",Ze,[e("div",et,[m(e("input",{"onUpdate:modelValue":a[7]||(a[7]=l=>o.connectingChineseFactories=l),class:"form-check-input",type:"checkbox",value:"",id:"connectingChineseFactories"},null,512),[[y,o.connectingChineseFactories]]),e("label",tt,s(t.$t("connectingChineseFactories")),1)])]),e("div",ot,[e("div",st,[m(e("input",{"onUpdate:modelValue":a[8]||(a[8]=l=>o.prototypeProduction=l),class:"form-check-input",type:"checkbox",value:"",id:"prototypeProduction"},null,512),[[y,o.prototypeProduction]]),e("label",lt,s(t.$t("prototypeProduction")),1)])]),e("div",at,[e("div",nt,[m(e("input",{"onUpdate:modelValue":a[9]||(a[9]=l=>o.massProduction=l),class:"form-check-input",type:"checkbox",value:"",id:"massProduction"},null,512),[[y,o.massProduction]]),e("label",it,s(t.$t("massProduction")),1)])])]),e("div",ct,[e("div",rt,[e("div",dt,[m(e("input",{"onUpdate:modelValue":a[10]||(a[10]=l=>o.importCustomsClearance=l),class:"form-check-input",type:"checkbox",value:"",id:"importCustomsClearance"},null,512),[[y,o.importCustomsClearance]]),e("label",ut,s(t.$t("importCustomsClearance")),1)])]),e("div",mt,[e("div",pt,[m(e("input",{"onUpdate:modelValue":a[11]||(a[11]=l=>o.KC_certification=l),class:"form-check-input",type:"checkbox",value:"",id:"KC_certification"},null,512),[[y,o.KC_certification]]),e("label",ft,s(t.$t("KC_certification")),1)])]),e("div",ht,[e("div",vt,[m(e("input",{"onUpdate:modelValue":a[12]||(a[12]=l=>o.postEventManagement=l),class:"form-check-input",type:"checkbox",value:"",id:"postEventManagement"},null,512),[[y,o.postEventManagement]]),e("label",_t,s(t.$t("post_eventManagement")),1)])])])])]),e("div",bt,[e("label",yt,s(t.$t("productName")),1),e("div",gt,[m(e("input",{"onUpdate:modelValue":a[13]||(a[13]=l=>o.productName=l),type:"text",class:"form-control",id:"inputPassword"},null,512),[[D,o.productName]]),e("div",kt,s(d(N).productName),1),e("div",wt,[(r(!0),u(L,null,U((j=d(V))==null?void 0:j.productName,l=>(r(),u("div",null,s(l),1))),256))])])]),e("div",Pt,[e("label",Ct,s(t.$t("itemName")),1),e("div",$t,[m(e("input",{"onUpdate:modelValue":a[14]||(a[14]=l=>o.itemName=l),type:"text",class:"form-control",id:"inputPassword"},null,512),[[D,o.itemName]]),e("div",Dt,s(d(N).itemName),1),e("div",St,[(r(!0),u(L,null,U((q=d(V))==null?void 0:q.itemName,l=>(r(),u("div",null,s(l),1))),256))])])]),e("div",Nt,[e("label",Ft,s(t.$t("contactInformation")),1),e("div",Vt,[m(e("input",{"onUpdate:modelValue":a[15]||(a[15]=l=>o.contactInformation=l),type:"text",class:"form-control",id:"inputPassword"},null,512),[[D,o.contactInformation]]),e("div",Lt,s(d(N).contactInformation),1),e("div",Ut,[(r(!0),u(L,null,U((O=d(V))==null?void 0:O.contactInformation,l=>(r(),u("div",null,s(l),1))),256))])])]),e("div",Mt,[e("label",Bt,s(t.$t("Email")),1),e("div",Et,[m(e("input",{"onUpdate:modelValue":a[16]||(a[16]=l=>o.email=l),type:"text",class:"form-control",id:"inputPassword"},null,512),[[D,o.email]]),e("div",xt,s(d(N).email),1),e("div",It,[(r(!0),u(L,null,U((R=d(V))==null?void 0:R.email,l=>(r(),u("div",null,s(l),1))),256))])])]),e("div",Qt,[e("label",Tt,[e("span",Kt,s(t.$t("productManual")),1),e("span",null,s(t.$t("freeStyle")),1)]),e("div",jt,[p.edit?(r(),S(x,{key:0,buttonLabel:d(n),file:p.editableData.productManual},null,8,["buttonLabel","file"])):(r(),S(E,{key:1,buttonLabel:d(n),onFileSelected:X},null,8,["buttonLabel"]))])]),e("div",qt,[e("label",Ot,s(t.$t("productDrawings")),1),e("div",Rt,[p.edit?(r(),S(x,{key:0,buttonLabel:d(n),file:p.editableData.productDrawings},null,8,["buttonLabel","file"])):(r(),S(E,{key:1,buttonLabel:d(n),onFileSelected:Z},null,8,["buttonLabel"]))])]),e("div",zt,[e("label",At,s(t.$t("photoData_pictures")),1),e("div",Wt,[p.edit?(r(),S(x,{key:0,buttonLabel:d(n),file:p.editableData.photos},null,8,["buttonLabel","file"])):(r(),S(E,{key:1,buttonLabel:d(n),onFileSelected:ee},null,8,["buttonLabel"]))])]),e("div",Yt,[e("label",Gt,[e("span",Ht,s(t.$t("otherRequestQuestions")),1),e("span",null,s(t.$t("textLimit")),1)]),e("div",Jt,[m(e("textarea",{"onUpdate:modelValue":a[17]||(a[17]=l=>o.others=l),class:"form-control",id:"exampleFormControlTextarea1",rows:"3"},null,512),[[D,o.others]])])]),p.edit?F("",!0):(r(),u("div",Xt,[ue(le,{to:"/admin/proposals",class:"col-4 btn btn-light btn-active-light-primary me-2"},{default:me(()=>[e("span",null,s(t.$t("cancel")),1)]),_:1}),e("button",{disabled:d(C),class:"btn btn-primary col-4"},[m(e("div",eo,null,512),[[z,d(C)]]),d(C)?(r(),u("span",to,s(t.$t("processing")),1)):(r(),u("span",oo,s(t.$t("register")),1))],8,Zt)])),p.edit?(r(),u("div",so,[e("div",lo,[e("div",ao,[m(e("select",{"onUpdate:modelValue":a[18]||(a[18]=l=>o.status=l),onChange:te,class:"form-select col-2","aria-label":"Default select example"},[e("option",no,s(t.$t("confirmed")),1),e("option",io,s(t.$t("notConfirmed")),1),e("option",co,s(t.$t("completed")),1),e("option",ro,s(t.$t("atWork")),1),e("option",uo,s(t.$t("cancel")),1)],544),[[pe,o.status]])]),e("div",mo,[e("div",po,[e("button",{disabled:d(C),class:"btn btn-primary",style:{width:"100%"}},[m(e("div",ho,null,512),[[z,d(C)]]),d(C)?(r(),u("span",vo,s(t.$t("processing")),1)):(r(),u("span",_o,s(t.$t("setStatus")),1))],8,fo)])])])])):F("",!0)],32)])}}},wo=Object.freeze(Object.defineProperty({__proto__:null,default:bo},Symbol.toStringTag,{value:"Module"}));export{wo as C,bo as _,ge as u};
