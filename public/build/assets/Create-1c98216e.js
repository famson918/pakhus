import{z,h as J,k as T,o as a,b as n,d as e,w as A,t,C as d,D as p,q as i,F as _,r as v,J as G,m as H,n as I,N as K}from"./app-c86f40bf.js";import{u as O}from"./roles-4d4e2302.js";import{u as Q}from"./users-276a5983.js";import{d as $,u as W,a as m}from"./vee-validate.esm-05f97611.js";import{u as X}from"./rules-b728849b.js";const Y={class:"container row justify-content-center my-5"},Z={class:"col-md-12"},ee={class:"card border-0 shadow-sm"},se={class:"card-body"},te={class:"mb-3"},oe={for:"post-title",class:"form-label"},le={class:"text-danger mt-1"},ae={class:"text-danger mt-1"},ne={class:"mb-3"},ie={for:"email",class:"form-label"},re={class:"text-danger mt-1"},de={class:"text-danger mt-1"},me={class:"mb-3"},ue={for:"password",class:"form-label"},ce={class:"text-danger mt-1"},pe={class:"text-danger mt-1"},_e={class:"mb-3"},ve={for:"password",class:"form-label"},he={class:"text-danger mt-1"},fe={class:"text-danger mt-1"},be={class:"mb-3"},we={for:"password",class:"form-label"},ge={class:"text-danger mt-1"},ye={class:"text-danger mt-1"},Ve={class:"mb-3"},$e={for:"password",class:"form-label"},Ne={class:"text-danger mt-1"},qe={class:"text-danger mt-1"},xe={class:"mb-3"},Ue={for:"password",class:"form-label"},Pe={value:"user"},ke={value:"admin"},Ce={class:"mt-4"},Fe=["disabled"],Re={class:""},Se={key:0},De={key:1},Te={__name:"Create",setup(Le){const{roleList:Me,getRoleList:N}=O(),{storeUser:q,validationErrors:u,isLoading:h}=Q(),{required:x,min:U}=X();$("required",x),$("min",U);const P={name:"required",email:"required",cellPhone:"required",companyName:"required",position:"required",password:"required|min:8",role:"required"},{validate:k,errors:c}=W({validationSchema:P}),{value:C}=m("name",null,{initialValue:""}),{value:F}=m("email",null,{initialValue:""}),{value:R}=m("password",null,{initialValue:""}),{value:S}=m("cellPhone",null,{initialValue:""}),{value:D}=m("companyName",null,{initialValue:""}),{value:L}=m("position",null,{initialValue:""}),{value:M}=m("role",null,{initialValue:""}),l=z({name:C,email:F,password:R,cellPhone:S,companyName:D,position:L,role:M});function B(){k().then(o=>{o.valid&&q(l)})}J(()=>{N()});const E=o=>{l.role=o.target.value};return(o,r)=>{var f,b,w,g,y,V;const j=T("router-link");return a(),n("div",Y,[e("div",Z,[e("div",ee,[e("div",se,[e("form",{onSubmit:A(B,["prevent"])},[e("div",te,[e("label",oe,t(o.$t("name")),1),d(e("input",{"onUpdate:modelValue":r[0]||(r[0]=s=>l.name=s),id:"post-title",type:"text",class:"form-control"},null,512),[[p,l.name]]),e("div",le,t(i(c).name),1),e("div",ae,[(a(!0),n(_,null,v((f=i(u))==null?void 0:f.name,s=>(a(),n("div",null,t(s),1))),256))])]),e("div",ne,[e("label",ie,t(o.$t("email")),1),d(e("input",{"onUpdate:modelValue":r[1]||(r[1]=s=>l.email=s),id:"email",type:"email",class:"form-control"},null,512),[[p,l.email]]),e("div",re,t(i(c).email),1),e("div",de,[(a(!0),n(_,null,v((b=i(u))==null?void 0:b.email,s=>(a(),n("div",null,t(s),1))),256))])]),e("div",me,[e("label",ue,t(o.$t("password")),1),d(e("input",{"onUpdate:modelValue":r[2]||(r[2]=s=>l.password=s),id:"password",type:"text",class:"form-control"},null,512),[[p,l.password]]),e("div",ce,t(i(c).password),1),e("div",pe,[(a(!0),n(_,null,v((w=i(u))==null?void 0:w.password,s=>(a(),n("div",null,t(s),1))),256))])]),e("div",_e,[e("label",ve,t(o.$t("cellPhone")),1),d(e("input",{"onUpdate:modelValue":r[3]||(r[3]=s=>l.cellPhone=s),id:"password",type:"text",class:"form-control"},null,512),[[p,l.cellPhone]]),e("div",he,t(i(c).cellPhone),1),e("div",fe,[(a(!0),n(_,null,v((g=i(u))==null?void 0:g.cellPhone,s=>(a(),n("div",null,t(s),1))),256))])]),e("div",be,[e("label",we,t(o.$t("companyName")),1),d(e("input",{"onUpdate:modelValue":r[4]||(r[4]=s=>l.companyName=s),id:"password",type:"text",class:"form-control"},null,512),[[p,l.companyName]]),e("div",ge,t(i(c).companyName),1),e("div",ye,[(a(!0),n(_,null,v((y=i(u))==null?void 0:y.companyName,s=>(a(),n("div",null,t(s),1))),256))])]),e("div",Ve,[e("label",$e,t(o.$t("position")),1),d(e("input",{"onUpdate:modelValue":r[5]||(r[5]=s=>l.position=s),id:"password",type:"text",class:"form-control"},null,512),[[p,l.position]]),e("div",Ne,t(i(c).position),1),e("div",qe,[(a(!0),n(_,null,v((V=i(u))==null?void 0:V.position,s=>(a(),n("div",null,t(s),1))),256))])]),e("div",xe,[e("label",Ue,t(o.$t("role")),1),d(e("select",{"onUpdate:modelValue":r[6]||(r[6]=s=>l.role=s),onChange:E,class:"form-select col-2","aria-label":"Default select example"},[e("option",Pe,t(o.$t("user")),1),e("option",ke,t(o.$t("admin")),1)],544),[[G,l.role]])]),e("div",Ce,[H(j,{to:"/users",class:"btn btn-light btn-active-light-primary me-2"},{default:I(()=>[e("span",null,t(o.$t("cancel")),1)]),_:1}),e("button",{disabled:i(h),class:"btn btn-primary"},[d(e("div",Re,null,512),[[K,i(h)]]),i(h)?(a(),n("span",Se,t(o.$t(o.processing)),1)):(a(),n("span",De,t(o.$t("save")),1))],8,Fe)])],32)])])])])}}};export{Te as default};
