import{s as l,a as p,z as d,u as m,c as h,i as q}from"./app-ed41658f.js";function w(){const c=l([]),{t:o}=p();d();const u=m();h(()=>u.state.lang.locale);const n=l({}),a=l(!1),r=q("$swal"),f=async()=>{axios.get("/api/get-faqs").then(t=>{c.value=t.data})};return{faqs:c,getFaqs:f,storeFaq:async t=>{if(a.value)return;a.value=!0,n.value={};let e=new FormData;for(let s in t)t.hasOwnProperty(s)&&e.append(s,t[s]);axios.post("/api/faqs",e,{headers:{"content-type":"multipart/form-data"}}).then(s=>{r({position:"top-end",icon:"success",title:o("faqSavedSuccessMessage"),showConfirmButton:!1,timer:1500})}).catch(s=>{var i;(i=s.response)!=null&&i.data&&(n.value=s.response.data.errors)}).finally(()=>a.value=!1)},updateFaq:async t=>{a.value||(a.value=!0,n.value={},axios.put("/api/faqs/",t).then(e=>{console.log("response",e),r({position:"top-end",icon:"success",title:o("faqUpdatedSuccessMessage"),showConfirmButton:!1,timer:1500}),u.dispatch("proposal/edit",!1)}).catch(e=>{var s;(s=e.response)!=null&&s.data&&(n.value=e.response.data.errors)}).finally(()=>a.value=!1))},deleteFaq:async t=>{let e={};e.title=o("areYouSure"),e.text=o("youCanCancel"),e.confirmButtonText=o("yesDeleteIt"),e.confirmButtonColor="#ef4444",e.timer=2e4,e.timerProgressBar=!0,e.reverseButtons=!0,r(e).then(s=>{s.isConfirmed&&axios.delete("/api/faqs/"+t).then(i=>{f(),r({position:"top-end",icon:"success",title:o("faqDeletedSuccessMessage"),showConfirmButton:!1,timer:1500})}).catch(i=>{r({icon:"error",title:"Something went wrong"})})})},validationErrors:n,isLoading:a}}export{w as u};
