import{i as C,h as Y,o as c,b as d,d as e,t as s,q as r,a as G,B as pe,u as H,c as B,j as fe,A as he,z,k as ve,e as F,C as u,D as N,s as _e,I as y,F as L,r as U,M as V,m as be,n as ge,N as A,J as ye,w as ke}from"./app-c86f40bf.js";import{d as J,u as we,a as P}from"./vee-validate.esm-05f97611.js";import{_ as x}from"./UploadInput-45e2a719.js";import{u as Pe}from"./rules-b728849b.js";const Ce={class:"d-flex align-items-center"},$e={class:"col-sm-10 fileName"},q={__name:"DownloadInput",props:["buttonLabel","file"],setup(m){let k=C(" ");const{buttonLabel:_,file:b}=m;Y(()=>{if(b){const p=new URL(b).pathname.split("/"),n=p[p.length-1];k.value=n}});const w=()=>{const f=b,p=f.substring(f.lastIndexOf("/")+1),n=document.createElement("a");n.style.display="none",n.href=f,n.download=p,document.body.appendChild(n),n.click(),document.body.removeChild(n)};return(f,p)=>(c(),d("div",Ce,[e("label",$e,s(r(k)),1),e("button",{class:"col-sm-2 btn btn-primary",onClick:w,type:"button"},s(m.buttonLabel),1)]))}};function Se(){const m=C({}),k=C({title:"",content:"",category_id:"",thumbnail:""}),{t:_}=G(),b=pe(),w=H();B(()=>w.state.lang.locale);const f=C({}),p=C(!1),n=fe("$swal");return{proposals:m,post:k,getProposals:async()=>{axios.get("/api/get-proposals").then(h=>{console.log("response.data.data :>> ",h.data.data),w.dispatch("proposal/getProposals",h.data.data)})},getPost:async h=>{axios.get("/api/proposals/"+h).then(i=>{k.value=i.data.data})},storeProposal:async h=>{if(p.value)return;p.value=!0,f.value={};let i=new FormData;for(let v in h)h.hasOwnProperty(v)&&i.append(v,h[v]);axios.post("/api/proposals",i,{headers:{"content-type":"multipart/form-data"}}).then(v=>{b.push({name:"proposals.index"}),n({position:"top-end",icon:"success",title:_("proposalSavedSuccessMessage"),showConfirmButton:!1,timer:1500})}).catch(v=>{var $;($=v.response)!=null&&$.data&&(f.value=v.response.data.errors)}).finally(()=>p.value=!1)},updateProposal:async h=>{p.value||(p.value=!0,f.value={},axios.put("/api/proposals/",h).then(i=>{b.push({name:"proposals.index"}),n({position:"top-end",icon:"success",title:_("proposalUpdatedSuccessMessage"),showConfirmButton:!1,timer:1500}),w.dispatch("proposal/edit",!1)}).catch(i=>{var v;(v=i.response)!=null&&v.data&&(f.value=i.response.data.errors)}).finally(()=>p.value=!1))},deletePost:async h=>{let i={};i.title=_("areYouSure"),i.text=_("youCanCancel"),i.confirmButtonText=_("yesDeleteIt"),i.confirmButtonColor="#ef4444",i.timer=2e4,i.timerProgressBar=!0,i.reverseButtons=!0,n(i).then(v=>{v.isConfirmed&&axios.delete("/api/proposals/"+h).then($=>{getPosts(),b.push({name:"proposals.index"}),n({icon:"success",title:"Post deleted successfully"})}).catch($=>{n({icon:"error",title:"Something went wrong"})})})},validationErrors:f,isLoading:p}}const De={class:"container card p-7",style:{"max-height":"100vh","overflow-y":"auto"}},Ne={key:0,class:"row justify-content-center"},Ve={class:"col-6 mb-2 text-center"},Fe={class:"fs-1 fw-7"},Me={class:"fs-4 fw-3"},Le={key:1},Ue={class:"fs-4 fw-7 p-1"},Ee={key:2},Ie={class:"row"},xe={class:"col-6"},qe={class:"mb-3 row"},Be={for:"staticEmail",class:"col-sm-4 col-form-label"},Qe={class:"col-sm-8"},Te=["placeholder"],Ke={class:"col-6"},je={class:"mb-3 row"},Re={for:"staticEmail",class:"col-sm-4 col-form-label"},Oe={class:"col-sm-8"},We={class:"mb-3 row"},ze={for:"inputPassword",class:"col-sm-3 col-form-label"},Ae={class:"col-sm-9"},Je={class:"row"},Ye={class:"col-sm-4"},Ge={class:"form-check form-check-custom form-check-solid me-10 p-2"},He={class:"form-check-label ml-4",for:"productDevelopment"},Xe={class:"col-sm-4"},Ze={class:"form-check form-check-custom form-check-solid me-10 p-2"},et={class:"form-check-label",for:"developmentProgram"},tt={class:"col-sm-4"},ot={class:"form-check form-check-custom form-check-solid me-10 p-2"},st={class:"form-check-label",for:"productQuotationSurvey"},lt={class:"row"},at={class:"col-sm-4"},nt={class:"form-check form-check-custom form-check-solid me-10 p-2"},it={class:"form-check-label",for:"connectingChineseFactories"},ct={class:"col-sm-4"},rt={class:"form-check form-check-custom form-check-solid me-10 p-2"},dt={class:"form-check-label",for:"prototypeProduction"},ut={class:"col-sm-4"},mt={class:"form-check form-check-custom form-check-solid me-10 p-2"},pt={class:"form-check-label",for:"massProduction"},ft={class:"row"},ht={class:"col-sm-4"},vt={class:"form-check form-check-custom form-check-solid me-10 p-2"},_t={class:"form-check-label",for:"importCustomsClearance"},bt={class:"col-sm-4"},gt={class:"form-check form-check-custom form-check-solid me-10 p-2"},yt={class:"form-check-label",for:"KC_certification"},kt={class:"col-sm-4"},wt={class:"form-check form-check-custom form-check-solid me-10 p-2"},Pt={class:"form-check-label",for:"postEventManagement"},Ct={class:"mb-3 row"},$t={for:"inputPassword",class:"col-sm-3 col-form-label"},St={class:"col-sm-9"},Dt={class:"text-danger mt-1"},Nt={class:"text-danger mt-1"},Vt={class:"mb-3 row"},Ft={for:"inputPassword",class:"col-sm-3 col-form-label"},Mt={class:"col-sm-9"},Lt={class:"text-danger mt-1"},Ut={class:"text-danger mt-1"},Et={class:"mb-3 row"},It={for:"inputPassword",class:"col-sm-3 col-form-label"},xt={class:"col-sm-9"},qt={class:"text-danger mt-1"},Bt={class:"text-danger mt-1"},Qt={class:"mb-3 row"},Tt={for:"inputPassword",class:"col-sm-3 col-form-label"},Kt={class:"col-sm-9"},jt={class:"text-danger mt-1"},Rt={class:"text-danger mt-1"},Ot={class:"mb-3 row"},Wt={for:"inputPassword",class:"col-sm-3 col-form-label"},zt={class:""},At={class:"col-sm-9"},Jt={class:"mb-3 row"},Yt={for:"inputPassword",class:"col-sm-3 col-form-label"},Gt={class:"col-sm-9"},Ht={class:"mb-3 row"},Xt={for:"inputPassword",class:"col-sm-3 col-form-label"},Zt={class:"col-sm-9"},eo={class:"mb-3 row"},to={for:"inputPassword",class:"col-sm-3 col-form-label"},oo={class:""},so={class:"col-sm-9"},lo={key:0,class:"mb-3 row justify-content-center"},ao=["disabled"],no={class:""},io={key:0},co={key:1},ro={key:1,class:"mb-3 row"},uo={class:"row justify-content-end"},mo={class:"col-sm-3"},po={value:"confirmed"},fo={value:"notConfirmed"},ho={value:"completed"},vo={value:"atWork"},_o={value:"cancel"},bo={class:"col-sm-4"},go={class:"row"},yo=["disabled"],ko={class:""},wo={key:0},Po={key:1},Co={__name:"Create",props:["edit","editableData"],emits:["updateEdit"],setup(m,{emit:k}){const{t:_}=G(),{required:b,min:w}=Pe();J("required",b),J("min",w);const f=H(),{edit:p,editableData:n}=m;B(()=>f.state.lang.locale);const Q=B(()=>f.state.auth.user);let E=C(),g=C();const I=()=>{p?g.value=_("download"):g.value=_("upload")};I(),he(()=>{I()}),Y(()=>{p&&n&&(o.id=n.id,o.productName=n.productName,o.itemName=n.itemName,o.contactInformation=n.contactInformation,o.email=n.email,o.others=n.others,o.developmentProgram=n.developmentProgram===1,o.KC_certification=n.KC_certification===1,o.connectingChineseFactories=n.connectingChineseFactories===1,o.importCustomsClearance=n.importCustomsClearance===1,o.massProduction=n.massProduction===1,o.postEventManagement=n.postEventManagement===1,o.productQuotationSurvey=n.productQuotationSurvey===1,o.prototypeProduction=n.prototypeProduction===1,o.productDevelopment=n.productDevelopment===1,o.applicationDate=n.created_at.split("T")[0],o.status=n.status,E.value=n.id.toString().padStart(8,"0"))});const T={productName:"required",itemName:"required",contactInformation:"required",email:"required",file1:"required",file2:"required",file3:"required"},{validate:h,errors:i}=we({validationSchema:T}),{value:v}=P("productName",null,{initialValue:""}),{value:$}=P("itemName",null,{initialValue:""}),{value:X}=P("contactInformation",null,{initialValue:""}),{value:Z}=P("email",null,{initialValue:""}),{value:ee}=P("file1",null,{initialValue:""}),{value:te}=P("file2",null,{initialValue:""}),{value:oe}=P("file3",null,{initialValue:""}),{storeProposal:se,updateProposal:le,validationErrors:M,isLoading:S,getProposals:K}=Se(),o=z({user_id:Q.value.id*1e3,productName:v,itemName:$,contactInformation:X,email:Z,productDevelopment:!1,developmentProgram:!1,productQuotationSurvey:!1,connectingChineseFactories:!1,prototypeProduction:!1,massProduction:!1,importCustomsClearance:!1,KC_certification:!1,postEventManagement:!1,status:"notConfirmed"}),D=z({file1:ee,file2:te,file3:oe});function ae(){h().then(async t=>{if(t.valid){const a={...o,productManual:D.file1,productDrawings:D.file2,photos:D.file3};p?(le(o),K(),ue()):(console.log("proposalWithFiles :>> ",a),await se(a),K())}})}const ne=t=>{D.file1=t},ie=t=>{D.file2=t},ce=t=>{D.file3=t},re=t=>{o.status=t.target.value},de=k,ue=t=>{de("updateEdit",t)};return(t,a)=>{var j,R,O,W;const me=ve("router-link");return c(),d("div",De,[m.edit?F("",!0):(c(),d("div",Ne,[e("div",Ve,[e("p",Fe,s(t.$t("what_is_your_item")),1),e("p",Me,s(t.$t("createText")),1)])])),m.edit?(c(),d("div",Le,[e("p",Ue,s(t.$t("what_is_your_item")),1)])):F("",!0),m.edit?(c(),d("div",Ee,[e("div",Ie,[e("div",xe,[e("div",qe,[e("label",Be,s(t.$t("id")),1),e("div",Qe,[e("input",{placeholder:r(E),class:"form-control",type:"text","aria-label":"Disabled input example",disabled:""},null,8,Te)])])]),e("div",Ke,[e("div",je,[e("label",Re,s(t.$t("applicationDate")),1),e("div",Oe,[u(e("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>o.applicationDate=l),class:"form-control",type:"text","aria-label":"Disabled input example",disabled:""},null,512),[[N,o.applicationDate]])])])])])])):F("",!0),e("form",{onSubmit:ke(ae,["prevent"])},[e("div",We,[e("label",ze,[e("span",null,s(t.$t("desiredService")),1),_e(s(t.$t("canSelectManyTimes")),1)]),e("div",Ae,[e("div",Je,[e("div",Ye,[e("div",Ge,[u(e("input",{"onUpdate:modelValue":a[1]||(a[1]=l=>o.productDevelopment=l),onChange:a[2]||(a[2]=(...l)=>t.changeProductDevelopment&&t.changeProductDevelopment(...l)),class:"form-check-input",type:"checkbox",value:"",id:"productDevelopment"},null,544),[[y,o.productDevelopment]]),e("label",He,s(t.$t("productDevelopment")),1)])]),e("div",Xe,[e("div",Ze,[u(e("input",{"onUpdate:modelValue":a[3]||(a[3]=l=>o.developmentProgram=l),onChange:a[4]||(a[4]=(...l)=>t.changeDevelopmentProgram&&t.changeDevelopmentProgram(...l)),class:"form-check-input",type:"checkbox",value:"",id:"developmentProgram"},null,544),[[y,o.developmentProgram]]),e("label",et,s(t.$t("developmentProgram")),1)])]),e("div",tt,[e("div",ot,[u(e("input",{"onUpdate:modelValue":a[5]||(a[5]=l=>o.productQuotationSurvey=l),onChange:a[6]||(a[6]=(...l)=>t.changeProductQuotationSurvey&&t.changeProductQuotationSurvey(...l)),class:"form-check-input",type:"checkbox",value:"",id:"productQuotationSurvey"},null,544),[[y,o.productQuotationSurvey]]),e("label",st,s(t.$t("productQuotationSurvey")),1)])])]),e("div",lt,[e("div",at,[e("div",nt,[u(e("input",{"onUpdate:modelValue":a[7]||(a[7]=l=>o.connectingChineseFactories=l),class:"form-check-input",type:"checkbox",value:"",id:"connectingChineseFactories"},null,512),[[y,o.connectingChineseFactories]]),e("label",it,s(t.$t("connectingChineseFactories")),1)])]),e("div",ct,[e("div",rt,[u(e("input",{"onUpdate:modelValue":a[8]||(a[8]=l=>o.prototypeProduction=l),class:"form-check-input",type:"checkbox",value:"",id:"prototypeProduction"},null,512),[[y,o.prototypeProduction]]),e("label",dt,s(t.$t("prototypeProduction")),1)])]),e("div",ut,[e("div",mt,[u(e("input",{"onUpdate:modelValue":a[9]||(a[9]=l=>o.massProduction=l),class:"form-check-input",type:"checkbox",value:"",id:"massProduction"},null,512),[[y,o.massProduction]]),e("label",pt,s(t.$t("massProduction")),1)])])]),e("div",ft,[e("div",ht,[e("div",vt,[u(e("input",{"onUpdate:modelValue":a[10]||(a[10]=l=>o.importCustomsClearance=l),class:"form-check-input",type:"checkbox",value:"",id:"importCustomsClearance"},null,512),[[y,o.importCustomsClearance]]),e("label",_t,s(t.$t("importCustomsClearance")),1)])]),e("div",bt,[e("div",gt,[u(e("input",{"onUpdate:modelValue":a[11]||(a[11]=l=>o.KC_certification=l),class:"form-check-input",type:"checkbox",value:"",id:"KC_certification"},null,512),[[y,o.KC_certification]]),e("label",yt,s(t.$t("KC_certification")),1)])]),e("div",kt,[e("div",wt,[u(e("input",{"onUpdate:modelValue":a[12]||(a[12]=l=>o.postEventManagement=l),class:"form-check-input",type:"checkbox",value:"",id:"postEventManagement"},null,512),[[y,o.postEventManagement]]),e("label",Pt,s(t.$t("post_eventManagement")),1)])])])])]),e("div",Ct,[e("label",$t,s(t.$t("productName")),1),e("div",St,[u(e("input",{"onUpdate:modelValue":a[13]||(a[13]=l=>o.productName=l),type:"text",class:"form-control",id:"inputPassword"},null,512),[[N,o.productName]]),e("div",Dt,s(r(i).productName),1),e("div",Nt,[(c(!0),d(L,null,U((j=r(M))==null?void 0:j.productName,l=>(c(),d("div",null,s(l),1))),256))])])]),e("div",Vt,[e("label",Ft,s(t.$t("itemName")),1),e("div",Mt,[u(e("input",{"onUpdate:modelValue":a[14]||(a[14]=l=>o.itemName=l),type:"text",class:"form-control",id:"inputPassword"},null,512),[[N,o.itemName]]),e("div",Lt,s(r(i).itemName),1),e("div",Ut,[(c(!0),d(L,null,U((R=r(M))==null?void 0:R.itemName,l=>(c(),d("div",null,s(l),1))),256))])])]),e("div",Et,[e("label",It,s(t.$t("contactInformation")),1),e("div",xt,[u(e("input",{"onUpdate:modelValue":a[15]||(a[15]=l=>o.contactInformation=l),type:"text",class:"form-control",id:"inputPassword"},null,512),[[N,o.contactInformation]]),e("div",qt,s(r(i).contactInformation),1),e("div",Bt,[(c(!0),d(L,null,U((O=r(M))==null?void 0:O.contactInformation,l=>(c(),d("div",null,s(l),1))),256))])])]),e("div",Qt,[e("label",Tt,s(t.$t("Email")),1),e("div",Kt,[u(e("input",{"onUpdate:modelValue":a[16]||(a[16]=l=>o.email=l),type:"text",class:"form-control",id:"inputPassword"},null,512),[[N,o.email]]),e("div",jt,s(r(i).email),1),e("div",Rt,[(c(!0),d(L,null,U((W=r(M))==null?void 0:W.email,l=>(c(),d("div",null,s(l),1))),256))])])]),e("div",Ot,[e("label",Wt,[e("span",zt,s(t.$t("productManual")),1),e("span",null,s(t.$t("freeStyle")),1)]),e("div",At,[m.edit?(c(),V(q,{key:0,buttonLabel:r(g),file:m.editableData.productManual},null,8,["buttonLabel","file"])):(c(),V(x,{key:1,buttonLabel:r(g),onFileSelected:ne,error:r(i).file1,style:{"margin-left":"-0.15rem"}},null,8,["buttonLabel","error"]))])]),e("div",Jt,[e("label",Yt,s(t.$t("productDrawings")),1),e("div",Gt,[m.edit?(c(),V(q,{key:0,buttonLabel:r(g),file:m.editableData.productDrawings},null,8,["buttonLabel","file"])):(c(),V(x,{key:1,buttonLabel:r(g),onFileSelected:ie,error:r(i).file2,style:{"margin-left":"-0.15rem"}},null,8,["buttonLabel","error"]))])]),e("div",Ht,[e("label",Xt,s(t.$t("photoData_pictures")),1),e("div",Zt,[m.edit?(c(),V(q,{key:0,buttonLabel:r(g),file:m.editableData.photos},null,8,["buttonLabel","file"])):(c(),V(x,{key:1,buttonLabel:r(g),onFileSelected:ce,error:r(i).file3,style:{"margin-left":"-0.15rem"}},null,8,["buttonLabel","error"]))])]),e("div",eo,[e("label",to,[e("span",oo,s(t.$t("otherRequestQuestions")),1),e("span",null,s(t.$t("textLimit")),1)]),e("div",so,[u(e("textarea",{"onUpdate:modelValue":a[17]||(a[17]=l=>o.others=l),class:"form-control",id:"exampleFormControlTextarea1",rows:"3"},null,512),[[N,o.others]])])]),m.edit?F("",!0):(c(),d("div",lo,[be(me,{to:"/proposals",class:"col-sm-3 btn btn-light btn-active-light-primary me-2"},{default:ge(()=>[e("span",null,s(t.$t("cancel")),1)]),_:1}),e("button",{disabled:r(S),class:"btn btn-primary col-sm-3"},[u(e("div",no,null,512),[[A,r(S)]]),r(S)?(c(),d("span",io,s(t.$t("processing")),1)):(c(),d("span",co,s(t.$t("register1")),1))],8,ao)])),m.edit?(c(),d("div",ro,[e("div",uo,[e("div",mo,[u(e("select",{"onUpdate:modelValue":a[18]||(a[18]=l=>o.status=l),onChange:re,class:"form-select col-2","aria-label":"Default select example"},[e("option",po,s(t.$t("confirmed")),1),e("option",fo,s(t.$t("notConfirmed")),1),e("option",ho,s(t.$t("completed")),1),e("option",vo,s(t.$t("atWork")),1),e("option",_o,s(t.$t("cancel")),1)],544),[[ye,o.status]])]),e("div",bo,[e("div",go,[e("button",{disabled:r(S),class:"btn btn-primary",style:{width:"100%"}},[u(e("div",ko,null,512),[[A,r(S)]]),r(S)?(c(),d("span",wo,s(t.$t("processing")),1)):(c(),d("span",Po,s(t.$t("setStatus")),1))],8,yo)])])])])):F("",!0)],32)])}}},Vo=Object.freeze(Object.defineProperty({__proto__:null,default:Co},Symbol.toStringTag,{value:"Module"}));export{Vo as C,Co as _,Se as u};
