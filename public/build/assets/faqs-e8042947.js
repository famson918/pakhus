import{i as l,a as p,B as d,u as m,c as h,j as q}from"./app-c86f40bf.js";function w(){const c=l([]),{t:o}=p();d();const u=m();h(()=>u.state.lang.locale);const n=l({}),a=l(!1),r=q("$swal"),f=async()=>{axios.get("/api/get-faqs").then(s=>{c.value=s.data})};return{faqs:c,getFaqs:f,storeFaq:async s=>{if(a.value)return;a.value=!0,n.value={};let e=new FormData;for(let t in s)s.hasOwnProperty(t)&&e.append(t,s[t]);axios.post("/api/faqs",e,{headers:{"content-type":"multipart/form-data"}}).then(t=>{r({position:"top-end",icon:"success",title:o("faqSavedSuccessMessage"),showConfirmButton:!1,timer:1500})}).catch(t=>{var i;(i=t.response)!=null&&i.data&&(n.value=t.response.data.errors)}).finally(()=>a.value=!1)},updateFaq:async s=>{a.value||(a.value=!0,n.value={},axios.put("/api/faqs/",s).then(e=>{console.log("response",e),r({position:"top-end",icon:"success",title:o("faqUpdatedSuccessMessage"),showConfirmButton:!1,timer:1500}),u.dispatch("proposal/edit",!1)}).catch(e=>{var t;(t=e.response)!=null&&t.data&&(n.value=e.response.data.errors)}).finally(()=>a.value=!1))},deleteFaq:async s=>{let e={};e.title=o("areYouSure"),e.text=o("youCanCancel"),e.confirmButtonText=o("yesDeleteIt"),e.confirmButtonColor="#ef4444",e.timer=2e4,e.timerProgressBar=!0,e.reverseButtons=!0,r(e).then(t=>{t.isConfirmed&&axios.delete("/api/faqs/"+s).then(i=>{f(),r({position:"top-end",icon:"success",title:o("faqDeletedSuccessMessage"),showConfirmButton:!1,timer:1500})}).catch(i=>{r({icon:"error",title:"Something went wrong"})})})},validationErrors:n,isLoading:a}}export{w as u};
