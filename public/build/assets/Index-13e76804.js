import{u as S,B as b,c as i,i as u,h as k,k as I,o as d,b as _,d as t,t as n,F as $,r as B,m as h,q as v,n as C,s as N,K as D}from"./app-c86f40bf.js";import{u as G}from"./goods-ac838368.js";const R={class:"container card p-7"},V={class:"row justify-content-center"},j={class:"col-12 mb-2 text-center"},A={class:"fs-1 fw-7"},F={class:"col-12 mb-2 text-center"},L={class:"fs-4 fw-7"},M={class:"d-flex"},O=["src"],T={class:"fs-3 fw-8"},q={class:"fs-3 fw-8"},E={class:"fs-3 fw-8"},U={__name:"Index",setup(K){const{getGoods:w,deleteGood:Q,getGood:z}=G(),m=S();b();const o=i(()=>m.state.good.goods),x=i(()=>m.state.auth.user);let p=u([]);const r=u(localStorage.getItem("currentSalesPage")?localStorage.getItem("currentSalesPage"):1),c=u(!1);k(async()=>{console.log("goods :>> ",o.value),await w(),f(r.value),P(x)});const l=c.value?4:5,f=e=>{localStorage.setItem("currentSalesPage",e),e||(e=1);let s=o.value?o.value:[];r.value=e,p.value={current_page:e,data:s,from:e,last_page:s.length/l+1,next_page_url:e<s.length/l?"":null,per_page:1,prev_page_url:e>1?"":null,to:e+1,total:s.length/l}},y=i(()=>{const e=(r.value-1)*l;return(o.value?o.value:[]).slice(e,e+l)}),P=e=>{(e.value.role?e.value.role:"").toLowerCase().includes("admin")?c.value=!0:c.value=!1};return(e,s)=>{const g=I("router-link");return d(),_("div",R,[t("div",V,[t("div",j,[t("p",A,n(e.$t("wantToSell")),1)]),t("div",F,[t("p",L,n(e.$t("explanation")),1)])]),t("div",M,[(d(!0),_($,null,B(y.value,a=>(d(),_("div",{key:a,class:"card m-2 shadow-sm",style:{width:"18rem","border-radius":"5%","text-align":"center"}},[t("img",{src:a.picture1,height:"200",class:"card-img-to p-4",alt:"..."},null,8,O),t("p",T,n(a.productName),1),t("p",q,n(a.startPrice)+"$ ~ "+n(a.endPrice)+"$",1),t("p",E,"Min Order: "+n(a.minimumOrderQuantity),1),h(g,{to:{name:"sales.details",params:{id:a.id}},class:"btn btn-primary m-3"},{default:C(()=>[N(n(e.$t("viewDetails")),1)]),_:2},1032,["to"])]))),128))]),h(v(D),{data:v(p),class:"mb-1 justify-content-center mt-5",limit:3,"keep-length":!1,"show-disabled":!1,onPaginationChangePage:f},null,8,["data"])])}}};export{U as default};
