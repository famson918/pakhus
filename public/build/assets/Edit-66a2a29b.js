import{C as R,m as S,i as M,E as j,o,b as l,d as s,v as A,t as a,A as m,B as v,h as i,F as h,s as f,D as C}from"./app-92ca493c.js";import{u as N}from"./roles-5d2404f3.js";import{u as T}from"./users-9afde98c.js";import{d as y,u as z,a as u,r as G,m as H}from"./rules-ff33fc86.js";const I={class:"container row justify-content-center my-5"},J={class:"col-md-12"},K={class:"card border-0 shadow-sm"},O={class:"card-body"},P={class:"mb-3"},Q={for:"user-title",class:"form-label"},W={class:"text-danger mt-1"},X={class:"text-danger mt-1"},Y={class:"mb-3"},Z={for:"email",class:"form-label"},ss={class:"text-danger mt-1"},es={class:"text-danger mt-1"},ts={class:"mb-3"},as={for:"password",class:"form-label"},os={class:"text-danger mt-1"},ls={class:"text-danger mt-1"},is={class:"mt-4"},ns=["disabled"],rs={class:""},ds={key:0},ms={key:1},bs={__name:"Edit",setup(us){const{roleList:cs,getRoleList:V}=N(),{updateUser:F,getUser:U,user:d,validationErrors:c,isLoading:_}=T();y("required",G),y("min",H);const x={name:"required",email:"required",password:"min:8"},{validate:E,errors:p,resetForm:_s}=z({validationSchema:x}),{value:$}=u("name",null,{initialValue:""}),{value:k}=u("email",null,{initialValue:""}),{value:q}=u("password",null,{initialValue:""}),{value:B}=u("role_id",null,{initialValue:"",label:"role"}),e=R({name:$,email:k,password:q,role_id:B}),D=S();function L(){E().then(n=>{n.valid&&F(e)})}return M(()=>{U(D.params.id),V()}),j(()=>{e.id=d.value.id,e.name=d.value.name,e.email=d.value.email,e.role_id=d.value.role_id}),(n,r)=>{var b,w,g;return o(),l("div",I,[s("div",J,[s("div",K,[s("div",O,[s("form",{onSubmit:A(L,["prevent"])},[s("div",P,[s("label",Q,a(n.$t("name")),1),m(s("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>e.name=t),id:"user-title",type:"text",class:"form-control"},null,512),[[v,e.name]]),s("div",W,a(i(p).name),1),s("div",X,[(o(!0),l(h,null,f((b=i(c))==null?void 0:b.name,t=>(o(),l("div",null,a(t),1))),256))])]),s("div",Y,[s("label",Z,a(n.$t("email")),1),m(s("input",{"onUpdate:modelValue":r[1]||(r[1]=t=>e.email=t),id:"email",type:"email",class:"form-control"},null,512),[[v,e.email]]),s("div",ss,a(i(p).email),1),s("div",es,[(o(!0),l(h,null,f((w=i(c))==null?void 0:w.email,t=>(o(),l("div",null,a(t),1))),256))])]),s("div",ts,[s("label",as,a(n.$t("password")),1),m(s("input",{"onUpdate:modelValue":r[2]||(r[2]=t=>e.password=t),id:"password",type:"password",class:"form-control"},null,512),[[v,e.password]]),s("div",os,a(i(p).password),1),s("div",ls,[(o(!0),l(h,null,f((g=i(c))==null?void 0:g.password,t=>(o(),l("div",null,a(t),1))),256))])]),s("div",is,[s("button",{disabled:i(_),class:"btn btn-primary"},[m(s("div",rs,null,512),[[C,i(_)]]),i(_)?(o(),l("span",ds,a(n.$t("processing")),1)):(o(),l("span",ms,a(n.$t("password")),1))],8,ns)])],32)])])])])}}};export{bs as default};
