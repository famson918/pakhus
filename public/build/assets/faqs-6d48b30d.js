import{l,M as p,u as d,c as m,j as v}from"./app-92ca493c.js";function F(){const u=l([]);p();const c=d(),i=m(()=>c.state.lang.locale),n=l({}),a=l(!1),o=v("$swal"),f=async()=>{axios.get("/api/get-faqs").then(s=>{u.value=s.data})};return{faqs:u,getFaqs:f,storeFaq:async s=>{if(a.value)return;a.value=!0,n.value={};let e=new FormData;for(let t in s)s.hasOwnProperty(t)&&e.append(t,s[t]);axios.post("/api/faqs",e,{headers:{"content-type":"multipart/form-data"}}).then(t=>{i.value==="en"?o({position:"top-end",icon:"success",title:"Faq saved successfully",showConfirmButton:!1,timer:1500}):o({position:"top-end",icon:"success",title:"提案已成功保存",showConfirmButton:!1,timer:1500})}).catch(t=>{var r;(r=t.response)!=null&&r.data&&(n.value=t.response.data.errors)}).finally(()=>a.value=!1)},updateFaq:async s=>{a.value||(a.value=!0,n.value={},axios.put("/api/faqs/",s).then(e=>{console.log("response",e),i.value==="en"?o({position:"top-end",icon:"success",title:"Faq saved successfully",showConfirmButton:!1,timer:1500}):o({position:"top-end",icon:"success",title:"提案已成功保存",showConfirmButton:!1,timer:1500}),c.dispatch("proposal/edit",!1)}).catch(e=>{var t;(t=e.response)!=null&&t.data&&(n.value=e.response.data.errors)}).finally(()=>a.value=!1))},deleteFaq:async s=>{let e={};i.value==="en"?(e.title="Are you sure?",e.text="You won't be able to revert this action!",e.confirmButtonText="Yes, delete it!",e.confirmButtonColor="#ef4444",e.timer=2e4,e.timerProgressBar=!0,e.reverseButtons=!0):(e.title="你确定吗？",e.text="您将无法恢复此操作！",e.confirmButtonText="是的，删除它！",e.confirmButtonColor="#ef4444",e.timer=2e4,e.timerProgressBar=!0,e.reverseButtons=!0),o(e).then(t=>{t.isConfirmed&&axios.delete("/api/faqs/"+s).then(r=>{f(),i.value==="en"?o({position:"top-end",icon:"success",title:"Faq deleted successfully",showConfirmButton:!1,timer:1500}):o({position:"top-end",icon:"success",title:"常见问题删除成功",showConfirmButton:!1,timer:1500})}).catch(r=>{o({icon:"error",title:"Something went wrong"})})})},validationErrors:n,isLoading:a}}export{F as u};
