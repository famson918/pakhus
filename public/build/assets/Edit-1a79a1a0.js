import{K as G,x as K,g as T,G as z,h as H,o as l,b as a,d as s,w as I,t,A as r,B as p,p as n,F as _,r as v,j as J,k as O,M as Q}from"./app-ed41658f.js";import{u as W}from"./roles-637ea900.js";import{u as X}from"./users-e79155da.js";import{d as N,u as Y,a as h,r as Z,m as ss}from"./rules-29bba6bc.js";const es={class:"container row justify-content-center my-5"},ts={class:"col-md-12"},os={class:"card border-0 shadow-sm"},ls={class:"card-body"},as={class:"mb-3"},ns={for:"user-title",class:"form-label"},is={class:"text-danger mt-1"},ds={class:"text-danger mt-1"},rs={class:"mb-3"},ms={for:"email",class:"form-label"},us={class:"text-danger mt-1"},cs={class:"text-danger mt-1"},ps={class:"mb-3"},_s={for:"password",class:"form-label"},vs={class:"text-danger mt-1"},hs={class:"text-danger mt-1"},fs={class:"mb-3"},bs={for:"password",class:"form-label"},ws={class:"text-danger mt-1"},ys={class:"text-danger mt-1"},gs={class:"mb-3"},Vs={for:"password",class:"form-label"},xs={class:"text-danger mt-1"},Cs={class:"text-danger mt-1"},Ns={class:"mb-3"},Ps={for:"password",class:"form-label"},Us={class:"text-danger mt-1"},$s={class:"text-danger mt-1"},qs={class:"mb-3"},ks={for:"password",class:"form-label"},Fs={class:"text-danger mt-1"},Bs={class:"text-danger mt-1"},Es={class:"mt-4"},Ls=["disabled"],Ms={class:""},Rs={key:0},Ss={key:1},Hs={__name:"Edit",setup(Ds){const{roleList:js,getRoleList:P}=W(),{updateUser:U,getUser:$,user:m,validationErrors:u,isLoading:f}=X();N("required",Z),N("min",ss);const q={name:"required",email:"required",postCode:"required",cellPhone:"required",companyName:"required",position:"required",password:"min:8"},{validate:k,errors:c,resetForm:As}=Y({validationSchema:q}),{value:F}=h("name",null,{initialValue:""}),{value:B}=h("email",null,{initialValue:""}),{value:E}=h("password",null,{initialValue:""}),{value:L}=h("postCode",null,{initialValue:""}),{value:M}=h("cellPhone",null,{initialValue:""}),{value:R}=h("companyName",null,{initialValue:""}),{value:S}=h("position",null,{initialValue:""}),o=G({name:F,email:B,password:E,postCode:L,cellPhone:M,companyName:R,position:S}),D=K();function j(){k().then(d=>{d.valid&&U(o)})}return T(()=>{$(D.params.id),P()}),z(()=>{o.id=m.value.id,o.name=m.value.name,o.email=m.value.email,o.postCode=m.value.postCode,o.cellPhone=m.value.cellPhone,o.companyName=m.value.companyName,o.position=m.value.position}),(d,i)=>{var b,w,y,g,V,x,C;const A=H("router-link");return l(),a("div",es,[s("div",ts,[s("div",os,[s("div",ls,[s("form",{onSubmit:I(j,["prevent"])},[s("div",as,[s("label",ns,t(d.$t("name")),1),r(s("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>o.name=e),id:"user-title",type:"text",class:"form-control"},null,512),[[p,o.name]]),s("div",is,t(n(c).name),1),s("div",ds,[(l(!0),a(_,null,v((b=n(u))==null?void 0:b.name,e=>(l(),a("div",null,t(e),1))),256))])]),s("div",rs,[s("label",ms,t(d.$t("email")),1),r(s("input",{"onUpdate:modelValue":i[1]||(i[1]=e=>o.email=e),id:"email",type:"email",class:"form-control"},null,512),[[p,o.email]]),s("div",us,t(n(c).email),1),s("div",cs,[(l(!0),a(_,null,v((w=n(u))==null?void 0:w.email,e=>(l(),a("div",null,t(e),1))),256))])]),s("div",ps,[s("label",_s,t(d.$t("password")),1),r(s("input",{"onUpdate:modelValue":i[2]||(i[2]=e=>o.password=e),id:"password",type:"password",class:"form-control"},null,512),[[p,o.password]]),s("div",vs,t(n(c).password),1),s("div",hs,[(l(!0),a(_,null,v((y=n(u))==null?void 0:y.password,e=>(l(),a("div",null,t(e),1))),256))])]),s("div",fs,[s("label",bs,t(d.$t("postCode")),1),r(s("input",{"onUpdate:modelValue":i[3]||(i[3]=e=>o.postCode=e),id:"password",type:"text",class:"form-control"},null,512),[[p,o.postCode]]),s("div",ws,t(n(c).postCode),1),s("div",ys,[(l(!0),a(_,null,v((g=n(u))==null?void 0:g.postCode,e=>(l(),a("div",null,t(e),1))),256))])]),s("div",gs,[s("label",Vs,t(d.$t("cellPhone")),1),r(s("input",{"onUpdate:modelValue":i[4]||(i[4]=e=>o.cellPhone=e),id:"password",type:"text",class:"form-control"},null,512),[[p,o.cellPhone]]),s("div",xs,t(n(c).cellPhone),1),s("div",Cs,[(l(!0),a(_,null,v((V=n(u))==null?void 0:V.cellPhone,e=>(l(),a("div",null,t(e),1))),256))])]),s("div",Ns,[s("label",Ps,t(d.$t("companyName")),1),r(s("input",{"onUpdate:modelValue":i[5]||(i[5]=e=>o.companyName=e),id:"password",type:"text",class:"form-control"},null,512),[[p,o.companyName]]),s("div",Us,t(n(c).companyName),1),s("div",$s,[(l(!0),a(_,null,v((x=n(u))==null?void 0:x.companyName,e=>(l(),a("div",null,t(e),1))),256))])]),s("div",qs,[s("label",ks,t(d.$t("position")),1),r(s("input",{"onUpdate:modelValue":i[6]||(i[6]=e=>o.position=e),id:"password",type:"text",class:"form-control"},null,512),[[p,o.position]]),s("div",Fs,t(n(c).position),1),s("div",Bs,[(l(!0),a(_,null,v((C=n(u))==null?void 0:C.position,e=>(l(),a("div",null,t(e),1))),256))])]),s("div",Es,[J(A,{to:"/admin/users",class:"btn btn-light btn-active-light-primary me-2"},{default:O(()=>[s("span",null,t(d.$t("cancel")),1)]),_:1}),s("button",{disabled:n(f),class:"btn btn-primary"},[r(s("div",Ms,null,512),[[Q,n(f)]]),n(f)?(l(),a("span",Rs,t(d.$t(d.processing)),1)):(l(),a("span",Ss,t(d.$t("save")),1))],8,Ls)])],32)])])])])}}};export{Hs as default};
