import{s as C,g as G,o as i,b as u,d as e,t as s,p as c,a as H,z as de,u as Y,c as J,i as ue,G as me,K as z,h as pe,e as F,A as m,B as N,m as fe,E as y,F as M,r as U,L as V,j as he,k as ve,M as W,H as _e,w as be}from"./app-ed41658f.js";import{d as A,u as ge,a as P,r as ye,m as ke}from"./rules-29bba6bc.js";import{_ as I}from"./UploadInput-afa24b7a.js";const we={class:"d-flex align-items-center"},Pe={class:"col-sm-10 fileName"},x={__name:"DownloadInput",props:["buttonLabel","file"],setup(p){let w=C(" ");const{buttonLabel:_,file:b}=p;G(()=>{if(b){const f=new URL(b).pathname.split("/"),r=f[f.length-1];w.value=r}});const g=()=>{const n=b,f=n.substring(n.lastIndexOf("/")+1),r=document.createElement("a");r.style.display="none",r.href=n,r.download=f,document.body.appendChild(r),r.click(),document.body.removeChild(r)};return(n,f)=>(i(),u("div",we,[e("label",Pe,s(c(w)),1),e("button",{class:"col-sm-2 btn btn-primary",onClick:g,type:"button"},s(p.buttonLabel),1)]))}};function Ce(){const p=C({}),w=C({title:"",content:"",category_id:"",thumbnail:""}),{t:_}=H(),b=de(),g=Y();J(()=>g.state.lang.locale);const n=C({}),f=C(!1),r=ue("$swal");return{proposals:p,post:w,getProposals:async()=>{axios.get("/api/get-proposals").then(h=>{console.log("response.data.data :>> ",h.data.data),g.dispatch("proposal/getProposals",h.data.data)})},getPost:async h=>{axios.get("/api/proposals/"+h).then(d=>{w.value=d.data.data})},storeProposal:async h=>{if(f.value)return;f.value=!0,n.value={};let d=new FormData;for(let v in h)h.hasOwnProperty(v)&&d.append(v,h[v]);axios.post("/api/proposals",d,{headers:{"content-type":"multipart/form-data"}}).then(v=>{b.push({name:"proposals.index"}),r({position:"top-end",icon:"success",title:_("proposalSavedSuccessMessage"),showConfirmButton:!1,timer:1500})}).catch(v=>{var $;($=v.response)!=null&&$.data&&(n.value=v.response.data.errors)}).finally(()=>f.value=!1)},updateProposal:async h=>{f.value||(f.value=!0,n.value={},axios.put("/api/proposals/",h).then(d=>{b.push({name:"proposals.index"}),r({position:"top-end",icon:"success",title:_("proposalUpdatedSuccessMessage"),showConfirmButton:!1,timer:1500}),g.dispatch("proposal/edit",!1)}).catch(d=>{var v;(v=d.response)!=null&&v.data&&(n.value=d.response.data.errors)}).finally(()=>f.value=!1))},deletePost:async h=>{let d={};d.title=_("areYouSure"),d.text=_("youCanCancel"),d.confirmButtonText=_("yesDeleteIt"),d.confirmButtonColor="#ef4444",d.timer=2e4,d.timerProgressBar=!0,d.reverseButtons=!0,r(d).then(v=>{v.isConfirmed&&axios.delete("/api/proposals/"+h).then($=>{getPosts(),b.push({name:"proposals.index"}),r({icon:"success",title:"Post deleted successfully"})}).catch($=>{r({icon:"error",title:"Something went wrong"})})})},validationErrors:n,isLoading:f}}const $e={class:"container card p-7",style:{"max-height":"100vh","overflow-y":"auto"}},Se={key:0,class:"row justify-content-center"},De={class:"col-6 mb-2 text-center"},Ne={class:"fs-1 fw-7"},Ve={class:"fs-8 fw-5"},Fe={key:1},Le={class:"fs-4 fw-7 p-1"},Me={key:2},Ue={class:"row"},Ee={class:"col-6"},Ie={class:"mb-3 row"},xe={for:"staticEmail",class:"col-sm-4 col-form-label"},Be={class:"col-sm-8"},Qe=["placeholder"],qe={class:"col-6"},Ke={class:"mb-3 row"},Te={for:"staticEmail",class:"col-sm-4 col-form-label"},je={class:"col-sm-8"},Oe={class:"mb-3 row"},Re={for:"inputPassword",class:"col-sm-3 col-form-label"},ze={class:"col-sm-9"},We={class:"row"},Ae={class:"col-sm-4"},Ge={class:"form-check form-check-custom form-check-solid me-10 p-2"},He={class:"form-check-label ml-4",for:"productDevelopment"},Ye={class:"col-sm-4"},Je={class:"form-check form-check-custom form-check-solid me-10 p-2"},Xe={class:"form-check-label",for:"developmentProgram"},Ze={class:"col-sm-4"},et={class:"form-check form-check-custom form-check-solid me-10 p-2"},tt={class:"form-check-label",for:"productQuotationSurvey"},ot={class:"row"},st={class:"col-sm-4"},lt={class:"form-check form-check-custom form-check-solid me-10 p-2"},at={class:"form-check-label",for:"connectingChineseFactories"},nt={class:"col-sm-4"},it={class:"form-check form-check-custom form-check-solid me-10 p-2"},ct={class:"form-check-label",for:"prototypeProduction"},rt={class:"col-sm-4"},dt={class:"form-check form-check-custom form-check-solid me-10 p-2"},ut={class:"form-check-label",for:"massProduction"},mt={class:"row"},pt={class:"col-sm-4"},ft={class:"form-check form-check-custom form-check-solid me-10 p-2"},ht={class:"form-check-label",for:"importCustomsClearance"},vt={class:"col-sm-4"},_t={class:"form-check form-check-custom form-check-solid me-10 p-2"},bt={class:"form-check-label",for:"KC_certification"},gt={class:"col-sm-4"},yt={class:"form-check form-check-custom form-check-solid me-10 p-2"},kt={class:"form-check-label",for:"postEventManagement"},wt={class:"mb-3 row"},Pt={for:"inputPassword",class:"col-sm-3 col-form-label"},Ct={class:"col-sm-9"},$t={class:"text-danger mt-1"},St={class:"text-danger mt-1"},Dt={class:"mb-3 row"},Nt={for:"inputPassword",class:"col-sm-3 col-form-label"},Vt={class:"col-sm-9"},Ft={class:"text-danger mt-1"},Lt={class:"text-danger mt-1"},Mt={class:"mb-3 row"},Ut={for:"inputPassword",class:"col-sm-3 col-form-label"},Et={class:"col-sm-9"},It={class:"text-danger mt-1"},xt={class:"text-danger mt-1"},Bt={class:"mb-3 row"},Qt={for:"inputPassword",class:"col-sm-3 col-form-label"},qt={class:"col-sm-9"},Kt={class:"text-danger mt-1"},Tt={class:"text-danger mt-1"},jt={class:"mb-3 row"},Ot={for:"inputPassword",class:"col-sm-3 col-form-label"},Rt={class:""},zt={class:"col-sm-9"},Wt={class:"mb-3 row"},At={for:"inputPassword",class:"col-sm-3 col-form-label"},Gt={class:"col-sm-9"},Ht={class:"mb-3 row"},Yt={for:"inputPassword",class:"col-sm-3 col-form-label"},Jt={class:"col-sm-9"},Xt={class:"mb-3 row"},Zt={for:"inputPassword",class:"col-sm-3 col-form-label"},eo={class:""},to={class:"col-sm-9"},oo={key:0,class:"mb-3 row justify-content-center"},so=["disabled"],lo={class:""},ao={key:0},no={key:1},io={key:1,class:"mb-3 row"},co={class:"row justify-content-end"},ro={class:"col-sm-3"},uo={value:"confirmed"},mo={value:"notConfirmed"},po={value:"completed"},fo={value:"atWork"},ho={value:"cancel"},vo={class:"col-sm-4"},_o={class:"row"},bo=["disabled"],go={class:""},yo={key:0},ko={key:1},wo={__name:"Create",props:["edit","editableData"],emits:["updateEdit"],setup(p,{emit:w}){const{t:_}=H();A("required",ye),A("min",ke);const b=Y(),{edit:g,editableData:n}=p;J(()=>b.state.lang.locale);let f=C(),r=C();const E=()=>{g?r.value=_("download"):r.value=_("upload")};E(),me(()=>{E()}),G(()=>{g&&n&&(o.id=n.id,o.productName=n.productName,o.itemName=n.itemName,o.contactInformation=n.contactInformation,o.email=n.email,o.others=n.others,o.developmentProgram=n.developmentProgram===1,o.KC_certification=n.KC_certification===1,o.connectingChineseFactories=n.connectingChineseFactories===1,o.importCustomsClearance=n.importCustomsClearance===1,o.massProduction=n.massProduction===1,o.postEventManagement=n.postEventManagement===1,o.productQuotationSurvey=n.productQuotationSurvey===1,o.prototypeProduction=n.prototypeProduction===1,o.productDevelopment=n.productDevelopment===1,o.applicationDate=n.created_at.split("T")[0],o.status=n.status,f.value=n.id.toString().padStart(8,"0"))});const B={productName:"required",itemName:"required",contactInformation:"required",email:"required",file1:"required",file2:"required",file3:"required"},{validate:Q,errors:k}=ge({validationSchema:B}),{value:q}=P("productName",null,{initialValue:""}),{value:h}=P("itemName",null,{initialValue:""}),{value:d}=P("contactInformation",null,{initialValue:""}),{value:v}=P("email",null,{initialValue:""}),{value:$}=P("file1",null,{initialValue:""}),{value:X}=P("file2",null,{initialValue:""}),{value:Z}=P("file3",null,{initialValue:""}),{storeProposal:ee,updateProposal:te,validationErrors:L,isLoading:S,getProposals:K}=Ce(),o=z({productName:q,itemName:h,contactInformation:d,email:v,productDevelopment:!1,developmentProgram:!1,productQuotationSurvey:!1,connectingChineseFactories:!1,prototypeProduction:!1,massProduction:!1,importCustomsClearance:!1,KC_certification:!1,postEventManagement:!1,status:"notConfirmed"}),D=z({file1:$,file2:X,file3:Z});function oe(){Q().then(async t=>{if(t.valid){const a={...o,productManual:D.file1,productDrawings:D.file2,photos:D.file3};g?(te(o),K(),ce()):(await ee(a),K())}})}const se=t=>{D.file1=t},le=t=>{D.file2=t},ae=t=>{D.file3=t},ne=t=>{o.status=t.target.value},ie=w,ce=t=>{ie("updateEdit",t)};return(t,a)=>{var T,j,O,R;const re=pe("router-link");return i(),u("div",$e,[p.edit?F("",!0):(i(),u("div",Se,[e("div",De,[e("p",Ne,s(t.$t("what_is_your_item")),1),e("p",Ve,s(t.$t("createText")),1)])])),p.edit?(i(),u("div",Fe,[e("p",Le,s(t.$t("what_is_your_item")),1)])):F("",!0),p.edit?(i(),u("div",Me,[e("div",Ue,[e("div",Ee,[e("div",Ie,[e("label",xe,s(t.$t("id")),1),e("div",Be,[e("input",{placeholder:c(f),class:"form-control",type:"text","aria-label":"Disabled input example",disabled:""},null,8,Qe)])])]),e("div",qe,[e("div",Ke,[e("label",Te,s(t.$t("applicationDate")),1),e("div",je,[m(e("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>o.applicationDate=l),class:"form-control",type:"text","aria-label":"Disabled input example",disabled:""},null,512),[[N,o.applicationDate]])])])])])])):F("",!0),e("form",{onSubmit:be(oe,["prevent"])},[e("div",Oe,[e("label",Re,[e("span",null,s(t.$t("desiredService")),1),fe(s(t.$t("canSelectManyTimes")),1)]),e("div",ze,[e("div",We,[e("div",Ae,[e("div",Ge,[m(e("input",{"onUpdate:modelValue":a[1]||(a[1]=l=>o.productDevelopment=l),onChange:a[2]||(a[2]=(...l)=>t.changeProductDevelopment&&t.changeProductDevelopment(...l)),class:"form-check-input",type:"checkbox",value:"",id:"productDevelopment"},null,544),[[y,o.productDevelopment]]),e("label",He,s(t.$t("productDevelopment")),1)])]),e("div",Ye,[e("div",Je,[m(e("input",{"onUpdate:modelValue":a[3]||(a[3]=l=>o.developmentProgram=l),onChange:a[4]||(a[4]=(...l)=>t.changeDevelopmentProgram&&t.changeDevelopmentProgram(...l)),class:"form-check-input",type:"checkbox",value:"",id:"developmentProgram"},null,544),[[y,o.developmentProgram]]),e("label",Xe,s(t.$t("developmentProgram")),1)])]),e("div",Ze,[e("div",et,[m(e("input",{"onUpdate:modelValue":a[5]||(a[5]=l=>o.productQuotationSurvey=l),onChange:a[6]||(a[6]=(...l)=>t.changeProductQuotationSurvey&&t.changeProductQuotationSurvey(...l)),class:"form-check-input",type:"checkbox",value:"",id:"productQuotationSurvey"},null,544),[[y,o.productQuotationSurvey]]),e("label",tt,s(t.$t("productQuotationSurvey")),1)])])]),e("div",ot,[e("div",st,[e("div",lt,[m(e("input",{"onUpdate:modelValue":a[7]||(a[7]=l=>o.connectingChineseFactories=l),class:"form-check-input",type:"checkbox",value:"",id:"connectingChineseFactories"},null,512),[[y,o.connectingChineseFactories]]),e("label",at,s(t.$t("connectingChineseFactories")),1)])]),e("div",nt,[e("div",it,[m(e("input",{"onUpdate:modelValue":a[8]||(a[8]=l=>o.prototypeProduction=l),class:"form-check-input",type:"checkbox",value:"",id:"prototypeProduction"},null,512),[[y,o.prototypeProduction]]),e("label",ct,s(t.$t("prototypeProduction")),1)])]),e("div",rt,[e("div",dt,[m(e("input",{"onUpdate:modelValue":a[9]||(a[9]=l=>o.massProduction=l),class:"form-check-input",type:"checkbox",value:"",id:"massProduction"},null,512),[[y,o.massProduction]]),e("label",ut,s(t.$t("massProduction")),1)])])]),e("div",mt,[e("div",pt,[e("div",ft,[m(e("input",{"onUpdate:modelValue":a[10]||(a[10]=l=>o.importCustomsClearance=l),class:"form-check-input",type:"checkbox",value:"",id:"importCustomsClearance"},null,512),[[y,o.importCustomsClearance]]),e("label",ht,s(t.$t("importCustomsClearance")),1)])]),e("div",vt,[e("div",_t,[m(e("input",{"onUpdate:modelValue":a[11]||(a[11]=l=>o.KC_certification=l),class:"form-check-input",type:"checkbox",value:"",id:"KC_certification"},null,512),[[y,o.KC_certification]]),e("label",bt,s(t.$t("KC_certification")),1)])]),e("div",gt,[e("div",yt,[m(e("input",{"onUpdate:modelValue":a[12]||(a[12]=l=>o.postEventManagement=l),class:"form-check-input",type:"checkbox",value:"",id:"postEventManagement"},null,512),[[y,o.postEventManagement]]),e("label",kt,s(t.$t("post_eventManagement")),1)])])])])]),e("div",wt,[e("label",Pt,s(t.$t("productName")),1),e("div",Ct,[m(e("input",{"onUpdate:modelValue":a[13]||(a[13]=l=>o.productName=l),type:"text",class:"form-control",id:"inputPassword"},null,512),[[N,o.productName]]),e("div",$t,s(c(k).productName),1),e("div",St,[(i(!0),u(M,null,U((T=c(L))==null?void 0:T.productName,l=>(i(),u("div",null,s(l),1))),256))])])]),e("div",Dt,[e("label",Nt,s(t.$t("itemName")),1),e("div",Vt,[m(e("input",{"onUpdate:modelValue":a[14]||(a[14]=l=>o.itemName=l),type:"text",class:"form-control",id:"inputPassword"},null,512),[[N,o.itemName]]),e("div",Ft,s(c(k).itemName),1),e("div",Lt,[(i(!0),u(M,null,U((j=c(L))==null?void 0:j.itemName,l=>(i(),u("div",null,s(l),1))),256))])])]),e("div",Mt,[e("label",Ut,s(t.$t("contactInformation")),1),e("div",Et,[m(e("input",{"onUpdate:modelValue":a[15]||(a[15]=l=>o.contactInformation=l),type:"text",class:"form-control",id:"inputPassword"},null,512),[[N,o.contactInformation]]),e("div",It,s(c(k).contactInformation),1),e("div",xt,[(i(!0),u(M,null,U((O=c(L))==null?void 0:O.contactInformation,l=>(i(),u("div",null,s(l),1))),256))])])]),e("div",Bt,[e("label",Qt,s(t.$t("Email")),1),e("div",qt,[m(e("input",{"onUpdate:modelValue":a[16]||(a[16]=l=>o.email=l),type:"text",class:"form-control",id:"inputPassword"},null,512),[[N,o.email]]),e("div",Kt,s(c(k).email),1),e("div",Tt,[(i(!0),u(M,null,U((R=c(L))==null?void 0:R.email,l=>(i(),u("div",null,s(l),1))),256))])])]),e("div",jt,[e("label",Ot,[e("span",Rt,s(t.$t("productManual")),1),e("span",null,s(t.$t("freeStyle")),1)]),e("div",zt,[p.edit?(i(),V(x,{key:0,buttonLabel:c(r),file:p.editableData.productManual},null,8,["buttonLabel","file"])):(i(),V(I,{key:1,buttonLabel:c(r),onFileSelected:se,error:c(k).file1},null,8,["buttonLabel","error"]))])]),e("div",Wt,[e("label",At,s(t.$t("productDrawings")),1),e("div",Gt,[p.edit?(i(),V(x,{key:0,buttonLabel:c(r),file:p.editableData.productDrawings},null,8,["buttonLabel","file"])):(i(),V(I,{key:1,buttonLabel:c(r),onFileSelected:le,error:c(k).file2},null,8,["buttonLabel","error"]))])]),e("div",Ht,[e("label",Yt,s(t.$t("photoData_pictures")),1),e("div",Jt,[p.edit?(i(),V(x,{key:0,buttonLabel:c(r),file:p.editableData.photos},null,8,["buttonLabel","file"])):(i(),V(I,{key:1,buttonLabel:c(r),onFileSelected:ae,error:c(k).file3},null,8,["buttonLabel","error"]))])]),e("div",Xt,[e("label",Zt,[e("span",eo,s(t.$t("otherRequestQuestions")),1),e("span",null,s(t.$t("textLimit")),1)]),e("div",to,[m(e("textarea",{"onUpdate:modelValue":a[17]||(a[17]=l=>o.others=l),class:"form-control",id:"exampleFormControlTextarea1",rows:"3"},null,512),[[N,o.others]])])]),p.edit?F("",!0):(i(),u("div",oo,[he(re,{to:"/proposals",class:"col-4 btn btn-light btn-active-light-primary me-2"},{default:ve(()=>[e("span",null,s(t.$t("cancel")),1)]),_:1}),e("button",{disabled:c(S),class:"btn btn-primary col-4"},[m(e("div",lo,null,512),[[W,c(S)]]),c(S)?(i(),u("span",ao,s(t.$t("processing")),1)):(i(),u("span",no,s(t.$t("register1")),1))],8,so)])),p.edit?(i(),u("div",io,[e("div",co,[e("div",ro,[m(e("select",{"onUpdate:modelValue":a[18]||(a[18]=l=>o.status=l),onChange:ne,class:"form-select col-2","aria-label":"Default select example"},[e("option",uo,s(t.$t("confirmed")),1),e("option",mo,s(t.$t("notConfirmed")),1),e("option",po,s(t.$t("completed")),1),e("option",fo,s(t.$t("atWork")),1),e("option",ho,s(t.$t("cancel")),1)],544),[[_e,o.status]])]),e("div",vo,[e("div",_o,[e("button",{disabled:c(S),class:"btn btn-primary",style:{width:"100%"}},[m(e("div",go,null,512),[[W,c(S)]]),c(S)?(i(),u("span",yo,s(t.$t("processing")),1)):(i(),u("span",ko,s(t.$t("setStatus")),1))],8,bo)])])])])):F("",!0)],32)])}}},So=Object.freeze(Object.defineProperty({__proto__:null,default:wo},Symbol.toStringTag,{value:"Module"}));export{So as C,wo as _,Ce as u};
